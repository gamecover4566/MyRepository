<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	var count = 0;
	function create() {
		/*
		1. div Element 생성
		*/
		var newDivE = document.createElement('div');
		newDivE.setAttribute("id", 'newDiv' + ++count);
		newDivE.style.border = '1px dotted gold';
		newDivE.style.display = 'block';
		
		/*
		1-1. TextNode 생성
		*/
		var newTextNode = document.createTextNode("새로 생성된 DIV " + count + "의 TextNode");
		
		newDivE.appendChild(newTextNode);
		
		/*
		1-2. Img Element 생성
		*/
		var imgE = document.createElement('img');
		imgE.setAttribute('src', 'image/p_red.png');
		imgE.setAttribute('width', '20px');
		imgE.setAttribute('height', '20px');
		newDivE.appendChild(imgE);
		
		var imgE2 = document.createElement('img');
		imgE2.setAttribute('src', 'image/p_blue.png');
		imgE2.setAttribute('width', '20px');
		imgE2.setAttribute('height', '20px');
		newDivE.insertBefore(imgE2, newTextNode);
		
		/*
		2. DOM Tree에 추가
		*/
		var parentDiv = document.getElementById('parent');
		parentDiv.appendChild(newDivE);
		
	}
	
	function remove() {
		if(count == 0) return;
		var parentDivE = document.getElementById("parent");
		var removeDivE = document.getElementById("newDiv" + count);
		
		parentDivE.removeChild(removeDivE);
		count--;
	}
	
	function update() {
		var bodyNodeList = document.getElementsByTagName('body');
		var bodyE = bodyNodeList.item(0);
		console.log(bodyE);
		
		bodyE.style.background="url('image/p_blue2.png')";
		bodyE.style.backgroundRepeatX = "url('image/p_blue2.png')";
		bodyE.style.backgroundRepeatY = "url('image/p_blue2.png')";
	}
	
</script>
</head>
<body>
<h1>HTML DOM객체 CRUD</h1><hr>
<div id = "parent">

</div>
<div id = "menu">
	<input type = "button" value = "추가" onclick = "create()">
	<input type = "button" value = "삭제" onclick = "remove()">
	<input type = "button" value = "수정" onclick = "update()">
</div>
</body>
</html>












