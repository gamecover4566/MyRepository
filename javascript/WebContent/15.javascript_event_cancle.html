<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript">
	window.onload = function() {
		//event 등록
		document.getElementById('tweet').addEventListener('click', function(e) {
			alert('tweet 상세 보기');
		});
		document.getElementById('imageSpan').addEventListener('click', function(e) {
			alert('tweet 프로필 보기');
			e.stopPropagation();
		});
		document.getElementById('mainp').addEventListener('click', function(e) {
			alert('main.jsp 요청[page]');
			alert('href -> ' + e.target.href);
			
		});
		document.getElementById('maina').addEventListener('click', function(e) {
			alert('main.jsp 요청[page]');
			alert('href -> ' + e.target.href);
			//원래 행위(main.jsp 페이지 이동)를 못하게 함
			e.preventDefault();
			/*
			AJAX 요청으로 서버에서 데이터(JSON)만 받아서
			DOM Tree 갱신
			*/
			document.getElementById("tweetList")
				.innerHTML+="<div id='tweet' style='border:1px solid blue;width:300px;margin-left:50px'>";
			document.getElementById("tweetList")
				.innerHTML+="<span id='imageSpan'>";
			document.getElementById("tweetList")
				.innerHTML+="<img src='image/p_red.png' width='50px' height='50px' style='border: 1px solid red'/>";
			document.getElementById("tweetList")
				.innerHTML+="</span>";
			document.getElementById("tweetList")
				.innerHTML+="오늘은 날씨가 좋아요!!!";
			document.getElementById("tweetList")
				.innerHTML+="</div>";
			
		});
		document.getElementById('f').addEventListener('submit', function(e) {
			alert('회원가입 AJAX 요청 : ' + e.target.action);
			//원래 submit 행위를 못하게 함(GET, POST 방식으로 action으로 요청)
			e.preventDefault();
		});
		
	};
</script>
</head>
<body>
<h2>이벤트 전파 중지 [e.stopPropagation()]</h2><hr/>
	<div id="tweetList">
		<div id='tweet' 
	style="border: 1px solid blue;width:300px;margin-left:50px">
			<span id="imageSpan">
				<img src='image/p_red.png' width="50px" height="50px" style="border:  1px solid red"/>
			</span>
			 오늘은 날씨가 좋아요!!!
		</div>
	</div>
<h2>디폴트 이벤트 취소[e.preventDefault()]</h2>
1.anchor tag:<a id="mainp" href='main.jsp'>메인 페이지 요청</a><br/>
2.anchor tag:<a id="maina" href='main.jsp'>AJAX 요청</a><br/>
<br/>
<form id="f" name="f" action="join.jsp" method="get">
	아이디 : <input type='text' name="id"><br/>
	form submit button : <input type="submit" value="[AJAX 요청]">
</form>
</body>
</html>